<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Java&amp;#8482;: A Beginner&amp;#8217;s Guide Sixth Edition</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<div id="filepos313915" class="calibre29"><span><img alt="image" src="images/00003.jpg" class="calibre30"/></span></div><div class="calibre11"> </div>
<div class="calibre31"><span class="calibre2"><span><big class="calibre3"><big class="calibre4"><big class="calibre5"><big class="calibre6"><big class="calibre32"><big class="calibre4">Chapter 3</big></big></big></big></big></big></span></span></div>
<div class="calibre9"><span class="calibre2"><span>Program Control Statements</span></span></div><div class="calibre33"> </div>
<div class="calibre1"><span class="calibre10"><span><span class="bold1">Key Skills &amp; Concepts</span></span></span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Input characters from the keyboard</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Know the complete form of the <span class="bold1">if</span> statement</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Use the <span class="bold1">switch</span> statement</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Know the complete form of the <span class="bold1">for</span> loop</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Use the <span class="bold1">while</span> loop</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Use the <span class="bold1">do-while</span> loop</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Use <span class="bold1">break</span> to exit a loop</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Use <span class="bold1">break</span> as a form of goto</span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Apply <span class="bold1">continue</span></span></div>
<div class="calibre26"><span><img alt="image" src="images/00002.jpg" class="calibre25"/>   Nest loops</span></div>
<div class="calibre1"><span><img alt="image" src="images/00004.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div class="calibre12"><span><span><span class="calibre2"><span class="bold1">I</span></span></span>n this chapter, you will learn about the statements that control a program’s flow of execution. There are three categories of program control statements: <span class="italic">selection</span> statements, which include the <span class="bold1">if</span> and the <span class="bold1">switch</span>; <span class="italic">iteration</span> statements, which include the <span class="bold1">for</span>, <span class="bold1">while</span>, and <span class="bold1">do-while</span> loops; and <span class="italic">jump</span> statements, which include <span class="bold1">break</span>, <span class="bold1">continue</span>, and <span class="bold1">return</span>. Except for <span class="bold1">return</span>, which is discussed later in this book, the remaining control statements, including the <span class="bold1">if</span> and <span class="bold1">for</span> statements to which you have already had a brief introduction, are examined in detail here. The chapter begins by explaining how to perform some simple keyboard input.</span></div>
<div id="filepos317412" class="calibre1"><span class="calibre10"><span><span class="bold1">Input Characters from the Keyboard</span></span></span></div>
<div class="calibre12"><span>Before examining Java’s control statements, we will make a short digression that will allow you to begin writing interactive programs. Up to this point, the sample programs in this book have displayed information <span class="italic">to</span> the user, but they have not received information <span class="italic">from</span> the user. Thus, you have been using console output, but not console (keyboard) input. The main reason for this is that Java’s input capabilities rely on or make use of features not discussed until later in this book. Also, most real-world Java programs and applets will be graphical and window based, not console based. For these reasons, not much use of console input is found in this book. However, there is one type of console input that is relatively easy to use: reading a character from the keyboard. Since several of the examples in this chapter will make use of this feature, it is discussed here.</span></div>
<div class="calibre23"><span>To read a character from the keyboard, we will use <span class="bold1">System.in.read( )</span>. <span class="bold1">System.in</span> is the complement to <span class="bold1">System.out</span>. It is the input object attached to the keyboard. The <span class="bold1">read( )</span> method waits until the user presses a key and then returns the result. The character is returned as an integer, so it must be cast into a <span class="bold1">char</span> to assign it to a <span class="bold1">char</span> variable. By default, console input is <span class="italic">line buffered</span>. Here, the term <span class="italic">buffer</span> refers to a small portion of memory that is used to hold the characters before they are read by your program. In this case, the buffer holds a complete line of text. As a result, you must press <small class="calibre16">ENTER</small> before any character that you type will be sent to your program. Here is a program that reads a character from the keyboard:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00132.jpg" class="calibre169"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Here is a sample run:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00133.jpg" class="calibre170"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>In the program, notice that <span class="bold1">main( )</span> begins like this:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00134.jpg" class="calibre171"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Because <span class="bold1">System.in.read( )</span> is being used, the program must specify the <span class="bold1">throws java.io.IOException</span> clause. This line is necessary to handle input errors. It is part of Java’s exception handling mechanism, which is discussed in <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_016.html#filepos764315">Chapter 9</a>. For now, don’t worry about its precise meaning.</span></div>
<div class="calibre23"><span>The fact that <span class="bold1">System.in</span> is line buffered is a source of annoyance at times. When you press <small class="calibre16">ENTER</small>, a carriage return, line feed sequence is entered into the input stream. Furthermore, these characters are left pending in the input buffer until you read them. Thus, for some applications, you may need to remove them (by reading them) before the next input operation. You will see an example of this later in this chapter.</span></div>
<div id="filepos320948" class="calibre1"><span class="calibre10"><span><span class="bold1">The if Statement</span></span></span></div>
<div class="calibre12"><span><a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_008.html#filepos130552">Chapter 1</a> introduced the <span class="bold1">if</span> statement. It is examined in detail here. The complete form of the <span class="bold1">if</span> statement is</span></div>
<div class="calibre27"><span>if(<span class="italic">condition</span>) <span class="italic">statement</span>;</span></div>
<div class="calibre12"><span>else <span class="italic">statement;</span></span></div>
<div class="calibre27"><span>where the targets of the <span class="bold1">if</span> and <span class="bold1">else</span> are single statements. The <span class="bold1">else</span> clause is optional. The targets of both the <span class="bold1">if</span> and <span class="bold1">else</span> can be blocks of statements. The general form of the <span class="bold1">if</span>, using blocks of statements, is</span></div>
<div class="calibre1"><span><img alt="image" src="images/00135.jpg" class="calibre172"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>If the conditional expression is true, the target of the <span class="bold1">if</span> will be executed; otherwise, if it exists, the target of the <span class="bold1">else</span> will be executed. At no time will both of them be executed. The conditional expression controlling the <span class="bold1">if</span> must produce a <span class="bold1">boolean</span> result.</span></div>
<div class="calibre23"><span>To demonstrate the <span class="bold1">if</span> (and several other control statements), we will create and develop a simple computerized guessing game that would be suitable for young children. In the first version of the game, the program asks the player for a letter between A and Z. If the player presses the correct letter on the keyboard, the program responds by printing the message <span class="bold1">** Right **</span>. The program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00136.jpg" class="calibre173"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>This program prompts the player and then reads a character from the keyboard. Using an <span class="bold1">if</span> statement, it then checks that character against the answer, which is K in this case. If K was entered, the message is displayed. When you try this program, remember that the K must be entered in uppercase.</span></div>
<div class="calibre23"><span>Taking the guessing game further, the next version uses the <span class="bold1">else</span> to print a message when the wrong letter is picked.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00137.jpg" class="calibre174"/></span></div><div class="calibre11"> </div>
<div id="filepos323602" class="calibre1"><span class="calibre10"><span><span class="bold1">Nested ifs</span></span></span></div>
<div class="calibre12"><span>A <span class="italic">nested</span>
<span class="bold1"><span class="italic">if</span></span> is an <span class="bold1">if</span> statement that is the target of another <span class="bold1">if</span> or <span class="bold1">else</span>. Nested <span class="bold1">if</span>s are very common in programming. The main thing to remember about nested <span class="bold1">if</span>s in Java is that an <span class="bold1">else</span> statement always refers to the nearest <span class="bold1">if</span> statement that is within the same block as the <span class="bold1">else</span> and not already associated with an <span class="bold1">else</span>. Here is an example:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00138.jpg" class="calibre175"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As the comments indicate, the final <span class="bold1">else</span> is not associated with <span class="bold1">if(j &lt; 20)</span>, because it is not in the same block (even though it is the nearest <span class="bold1">if</span> without an <span class="bold1">else</span>). Rather, the final <span class="bold1">else</span> is associated with <span class="bold1">if(i == 10)</span>. The inner <span class="bold1">else</span> refers to <span class="bold1">if(k &gt; 100)</span>, because it is the closest <span class="bold1">if</span> within the same block.</span></div>
<div class="calibre23"><span>You can use a nested <span class="bold1">if</span> to add a further improvement to the guessing game. This addition provides the player with feedback about a wrong guess.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00139.jpg" class="calibre176"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>A sample run is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00140.jpg" class="calibre177"/></span></div><div class="calibre11"> </div>
<div id="filepos325376" class="calibre1"><span class="calibre10"><span><span class="bold1">The if-else-if Ladder</span></span></span></div>
<div class="calibre12"><span>A common programming construct that is based upon the nested <span class="bold1">if</span> is the <span class="bold1">if-else-if</span>
<span class="italic">ladder</span>. It looks like this:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00141.jpg" class="calibre178"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>The conditional expressions are evaluated from the top downward. As soon as a true condition is found, the statement associated with it is executed, and the rest of the ladder is bypassed. If none of the conditions are true, the final <span class="bold1">else</span> statement will be executed. The final <span class="bold1">else</span> often acts as a default condition; that is, if all other conditional tests fail, the last <span class="bold1">else</span> statement is performed. If there is no final <span class="bold1">else</span> and all other conditions are false, no action will take place.</span></div>
<div class="calibre23"><span>The following program demonstrates the <span class="bold1">if-else-if</span> ladder:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00142.jpg" class="calibre179"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The program produces the following output:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00143.jpg" class="calibre180"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As you can see, the default <span class="bold1">else</span> is executed only if none of the preceding <span class="bold1">if</span> statements succeeds.</span></div>
<div id="filepos327106" class="calibre1"><span class="calibre10"><span><span class="bold1">The switch Statement</span></span></span></div>
<div class="calibre12"><span>The second of Java’s selection statements is the <span class="bold1">switch</span>. The <span class="bold1">switch</span> provides for a multiway branch. Thus, it enables a program to select among several alternatives. Although a series of nested <span class="bold1">if</span> statements can perform multiway tests, for many situations the <span class="bold1">switch</span> is a more efficient approach. It works like this: the value of an expression is successively tested against a list of constants. When a match is found, the statement sequence associated with that match is executed. The general form of the <span class="bold1">switch</span> statement is</span></div>
<div class="calibre1"><span><img alt="image" src="images/00144.jpg" class="calibre181"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>For versions of Java prior to JDK 7, the <span class="italic">expression</span> controlling the <span class="bold1">switch</span> must be of type <span class="bold1">byte</span>, <span class="bold1">short</span>, <span class="bold1">int</span>, <span class="bold1">char</span>, or an enumeration. (Enumerations are described in <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_019.html#filepos994143">Chapter 12</a>.) Beginning with JDK 7, <span class="italic">expression</span> can also be of type <span class="bold1">String</span>. This means that modern versions of Java can use a string to control a <span class="bold1">switch</span>. (This technique is demonstrated in <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_012.html#filepos452160">Chapter 5</a>, when <span class="bold1">String</span> is described.) Frequently, the expression controlling a <span class="bold1">switch</span> is simply a variable rather than a larger expression.</span></div>
<div class="calibre23"><span>Each value specified in the <span class="bold1">case</span> statements must be a unique constant expression (such as a literal value). Duplicate <span class="bold1">case</span> values are not allowed. The type of each value must be compatible with the type of <span class="italic">expression</span>.</span></div>
<div class="calibre23"><span>The <span class="bold1">default</span> statement sequence is executed if no <span class="bold1">case</span> constant matches the expression. The <span class="bold1">default</span> is optional; if it is not present, no action takes place if all matches fail. When a match is found, the statements associated with that <span class="bold1">case</span> are executed until the <span class="bold1">break</span> is encountered or, in the case of <span class="bold1">default</span> or the last <span class="bold1">case</span>, until the end of the <span class="bold1">switch</span> is reached.</span></div>
<div class="calibre23"><span>The following program demonstrates the <span class="bold1">switch</span>:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00145.jpg" class="calibre182"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output produced by this program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00146.jpg" class="calibre183"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As you can see, each time through the loop, the statements associated with the <span class="bold1">case</span> constant that matches <span class="bold1">i</span> are executed. All others are bypassed. When <span class="bold1">i</span> is five or greater, no <span class="bold1">case</span> statements match, so the <span class="bold1">default</span> statement is executed.</span></div>
<div class="calibre23"><span>Technically, the <span class="bold1">break</span> statement is optional, although most applications of the <span class="bold1">switch</span> will use it. When encountered within the statement sequence of a <span class="bold1">case</span>, the <span class="bold1">break</span> statement causes program flow to exit from the entire <span class="bold1">switch</span> statement and resume at the next statement outside the <span class="bold1">switch</span>. However, if a <span class="bold1">break</span> statement does not end the statement sequence associated with a <span class="bold1">case</span>, then all the statements <span class="italic">at and following</span> the matching <span class="bold1">case</span> will be executed until a <span class="bold1">break</span> (or the end of the <span class="bold1">switch</span>) is encountered.</span></div>
<div class="calibre23"><span>For example, study the following program carefully. Before looking at the output, can you figure out what it will display on the screen?</span></div>
<div class="calibre1"><span><img alt="image" src="images/00147.jpg" class="calibre184"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>This program displays the following output:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00148.jpg" class="calibre185"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As this program illustrates, execution will continue into the next <span class="bold1">case</span> if no <span class="bold1">break</span> statement is present.</span></div>
<div class="calibre23"><span>You can have empty <span class="bold1">case</span>s, as shown in this example:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00149.jpg" class="calibre186"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>In this fragment, if <span class="bold1">i</span> has the value 1, 2, or 3, the first <span class="bold1">println( )</span> statement executes. If it is 4, the second <span class="bold1">println( )</span> statement executes. The “stacking” of <span class="bold1">case</span>s, as shown in this example, is common when several <span class="bold1">case</span>s share common code.</span></div>
<div id="filepos332425" class="calibre1"><span class="calibre10"><span><span class="bold1">Nested switch Statements</span></span></span></div>
<div class="calibre12"><span>It is possible to have a <span class="bold1">switch</span> as part of the statement sequence of an outer <span class="bold1">switch</span>. This is called a nested <span class="bold1">switch</span>. Even if the <span class="bold1">case</span> constants of the inner and outer <span class="bold1">switch</span> contain common values, no conflicts will arise. For example, the following code fragment is perfectly acceptable:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00150.jpg" class="calibre187"/></span></div><div class="calibre11"> </div>
<div class="calibre11"> </div><table cellspacing="0" cellpadding="0" class="calibre37">
<colgroup class="calibre38">
<col class="calibre72"/>
<col class="calibre73"/>
</colgroup>
<tr class="calibre41">
<td valign="top" id="filepos333240" class="calibre74"><span class="calibre10"><span class="bold1">Try This 3-1</span> </span></td>
<td valign="top" class="calibre75"><span class="calibre10">Start Building a Java Help System</span></td>
</tr></table><div class="calibre43"> </div>
<div class="calibre1"><span><img alt="image" src="images/00151.jpg" class="calibre188"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>This project builds a simple help system that displays the syntax for the Java control statements. The program displays a menu containing the control statements and then waits for you to choose one. After one is chosen, the syntax of the statement is displayed. In this first version of the program, help is available for only the <span class="bold1">if</span> and <span class="bold1">switch</span> statements. The other control statements are added in subsequent projects.</span></div>
<div class="calibre19"><span>  <span class="bold1">1.</span>  Create a file called <span class="bold1">Help.java</span>.</span></div>
<div class="calibre47"><span>  <span class="bold1">2.</span>  The program begins by displaying the following menu:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00152.jpg" class="calibre189"/></span></div>
<div class="calibre47"><span>        To accomplish this, you will use the statement sequence shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00153.jpg" class="calibre190"/></span></div>
<div class="calibre47"><span>  <span class="bold1">3.</span>  Next, the program obtains the user’s selection by calling <span class="bold1">System.in.read( )</span>, as shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00154.jpg" class="calibre191"/></span></div>
<div class="calibre47"><span>  <span class="bold1">4.</span>  Once the selection has been obtained, the program uses the <span class="bold1">switch</span> statement shown here to display the syntax for the selected statement.</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00155.jpg" class="calibre192"/></span></div>
<div class="calibre47"><span>        Notice how the <span class="bold1">default</span> clause catches invalid choices. For example, if the user enters 3, no <span class="bold1">case</span> constants will match, causing the <span class="bold1">default</span> sequence to execute.</span></div>
<div class="calibre47"><span>  <span class="bold1">5.</span>  Here is the entire <span class="bold1">Help.java</span> program listing:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00156.jpg" class="calibre193"/></span></div>
<div class="calibre47"><span>  <span class="bold1">6.</span>  Here is a sample run.</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00157.jpg" class="calibre194"/></span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div id="filepos337268" class="calibre9"><span class="calibre10"><span><span class="bold1">The for Loop</span></span></span></div>
<div class="calibre12"><span>You have been using a simple form of the <span class="bold1">for</span> loop since <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_008.html#filepos130552">Chapter 1</a>. You might be surprised at just how powerful and flexible the <span class="bold1">for</span> loop is. Let’s begin by reviewing the basics, starting with the most traditional forms of the <span class="bold1">for</span>.</span></div>
<div class="calibre23"><span>The general form of the <span class="bold1">for</span> loop for repeating a single statement is</span></div>
<div class="calibre27"><span>for(<span class="italic">initialization</span>; <span class="italic">condition</span>; <span class="italic">iteration</span>) <span class="italic">statement</span>;</span></div>
<div class="calibre27"><span>For repeating a block, the general form is</span></div>
<div class="calibre1"><span><img alt="image" src="images/00158.jpg" class="calibre195"/></span></div><div class="calibre11"> </div>
<div class="calibre29"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div>
<div class="calibre9"><span class="calibre10"><span><span class="bold1">Ask the Expert</span></span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">Q</span></span>:   Under what conditions should I use an</span> if-else-if <span class="bold1">ladder rather than a</span> switch <span class="bold1">when coding a multiway branch?</span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">A</span></span>:</span>   In general, use an <span class="bold1">if-else-if</span> ladder when the conditions controlling the selection process do not rely upon a single value. For example, consider the following <span class="bold1">if</span>-<span class="bold1">else</span>-<span class="bold1">if</span> sequence:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00159.jpg" class="calibre196"/></span></div>
<div class="calibre1"><span>This sequence cannot be recoded into a <span class="bold1">switch</span> because all three conditions involve different variables—and differing types. What variable would control the <span class="bold1">switch</span>? Also, you will need to use an <span class="bold1">if</span>-<span class="bold1">else</span>-<span class="bold1">if</span> ladder when testing floating-point values or other objects that are not of types valid for use in a <span class="bold1">switch</span> expression.</span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div class="calibre12"><span>The <span class="italic">initialization</span> is usually an assignment statement that sets the initial value of the <span class="italic">loop control variable</span>, which acts as the counter that controls the loop. The <span class="italic">condition</span> is a Boolean expression that determines whether or not the loop will repeat. The <span class="italic">iteration</span> expression defines the amount by which the loop control variable will change each time the loop is repeated. Notice that these three major sections of the loop must be separated by semicolons. The <span class="bold1">for</span> loop will continue to execute as long as the condition tests true. Once the condition becomes false, the loop will exit, and program execution will resume on the statement following the <span class="bold1">for</span>.</span></div>
<div class="calibre23"><span>The following program uses a <span class="bold1">for</span> loop to print the square roots of the numbers between 1 and 99. It also displays the rounding error present for each square root.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00160.jpg" class="calibre197"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Notice that the rounding error is computed by squaring the square root of each number. This result is then subtracted from the original number, thus yielding the rounding error.</span></div>
<div class="calibre23"><span>The <span class="bold1">for</span> loop can proceed in a positive or negative fashion, and it can change the loop control variable by any amount. For example, the following program prints the numbers 100 to –95, in decrements of 5:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00161.jpg" class="calibre198"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>An important point about <span class="bold1">for</span> loops is that the conditional expression is always tested at the top of the loop. This means that the code inside the loop may not be executed at all if the condition is false to begin with. Here is an example:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00162.jpg" class="calibre199"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>This loop will never execute because its control variable, <span class="bold1">count</span>, is greater than 5 when the loop is first entered. This makes the conditional expression, <span class="bold1">count &lt; 5</span>, false from the outset; thus, not even one iteration of the loop will occur.</span></div>
<div id="filepos342435" class="calibre1"><span class="calibre10"><span><span class="bold1">Some Variations on the for Loop</span></span></span></div>
<div class="calibre12"><span>The <span class="bold1">for</span> is one of the most versatile statements in the Java language because it allows a wide range of variations. For example, multiple loop control variables can be used. Consider the following program:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00163.jpg" class="calibre200"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00164.jpg" class="calibre201"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Here, commas separate the two initialization statements and the two iteration expressions. When the loop begins, both <span class="bold1">i</span> and <span class="bold1">j</span> are initialized. Each time the loop repeats, <span class="bold1">i</span> is incremented and <span class="bold1">j</span> is decremented. Multiple loop control variables are often convenient and can simplify certain algorithms. You can have any number of initialization and iteration statements, but in practice, more than two or three make the <span class="bold1">for</span> loop unwieldy.</span></div>
<div class="calibre23"><span>The condition controlling the loop can be any valid Boolean expression. It does not need to involve the loop control variable. In the next example, the loop continues to execute until the user types the letter S at the keyboard:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00165.jpg" class="calibre202"/></span></div><div class="calibre11"> </div>
<div id="filepos344198" class="calibre1"><span class="calibre10"><span><span class="bold1">Missing Pieces</span></span></span></div>
<div class="calibre12"><span>Some interesting <span class="bold1">for</span> loop variations are created by leaving pieces of the loop definition empty. In Java, it is possible for any or all of the initialization, condition, or iteration portions of the <span class="bold1">for</span> loop to be blank. For example, consider the following program:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00166.jpg" class="calibre203"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Here, the iteration expression of the <span class="bold1">for</span> is empty. Instead, the loop control variable <span class="bold1">i</span> is incremented inside the body of the loop. This means that each time the loop repeats, <span class="bold1">i</span> is tested to see whether it equals 10, but no further action takes place. Of course, since <span class="bold1">i</span> is still incremented within the body of the loop, the loop runs normally, displaying the following output:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00167.jpg" class="calibre204"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>In the next example, the initialization portion is also moved out of the <span class="bold1">for</span>:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00168.jpg" class="calibre102"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>In this version, <span class="bold1">i</span> is initialized before the loop begins, rather than as part of the <span class="bold1">for</span>. Normally, you will want to initialize the loop control variable inside the <span class="bold1">for</span>. Placing the initialization outside of the loop is generally done only when the initial value is derived through a complex process that does not lend itself to containment inside the <span class="bold1">for</span> statement.</span></div>
<div id="filepos346143" class="calibre1"><span class="calibre10"><span><span class="bold1">The Infinite Loop</span></span></span></div>
<div class="calibre12"><span>You can create an <span class="italic">infinite loop</span> (a loop that never terminates) using the <span class="bold1">for</span> by leaving the conditional expression empty. For example, the following fragment shows the way most Java programmers create an infinite loop:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00169.jpg" class="calibre205"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>This loop will run forever. Although there are some programming tasks, such as operating system command processors, that require an infinite loop, most “infinite loops” are really just loops with special termination requirements. Near the end of this chapter, you will see how to halt a loop of this type. (Hint: It’s done using the <span class="bold1">break</span> statement.)</span></div>
<div id="filepos347133" class="calibre1"><span class="calibre10"><span><span class="bold1">Loops with No Body</span></span></span></div>
<div class="calibre12"><span>In Java, the body associated with a <span class="bold1">for</span> loop (or any other loop) can be empty. This is because a <span class="italic">null statement</span> is syntactically valid. Body-less loops are often useful. For example, the following program uses one to sum the numbers 1 through 5:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00170.jpg" class="calibre206"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00171.jpg" class="calibre207"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Notice that the summation process is handled entirely within the <span class="bold1">for</span> statement, and no body is needed. Pay special attention to the iteration expression:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00172.jpg" class="calibre208"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Don’t be intimidated by statements like this. They are common in professionally written Java programs and are easy to understand if you break them down into their parts. In other words, this statement says, “Add to <span class="bold1">sum</span> the value of <span class="bold1">sum</span> plus <span class="bold1">i</span>, then increment <span class="bold1">i</span>.” Thus, it is the same as this sequence of statements:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00173.jpg" class="calibre209"/></span></div><div class="calibre11"> </div>
<div id="filepos348876" class="calibre1"><span class="calibre10"><span><span class="bold1">Declaring Loop Control Variables Inside the for Loop</span></span></span></div>
<div class="calibre12"><span>Often the variable that controls a <span class="bold1">for</span> loop is needed only for the purposes of the loop and is not used elsewhere. When this is the case, it is possible to declare the variable inside the initialization portion of the <span class="bold1">for</span>. For example, the following program computes both the summation and the factorial of the numbers 1 through 5. It declares its loop control variable <span class="bold1">i</span> inside the <span class="bold1">for</span>.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00174.jpg" class="calibre210"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>When you declare a variable inside a <span class="bold1">for</span> loop, there is one important point to remember: the scope of that variable ends when the <span class="bold1">for</span> statement does. (That is, the scope of the variable is limited to the <span class="bold1">for</span> loop.) Outside the <span class="bold1">for</span> loop, the variable will cease to exist. Thus, in the preceding example, <span class="bold1">i</span> is not accessible outside the <span class="bold1">for</span> loop. If you need to use the loop control variable elsewhere in your program, you will not be able to declare it inside the <span class="bold1">for</span> loop.</span></div>
<div class="calibre23"><span>Before moving on, you might want to experiment with your own variations on the <span class="bold1">for</span> loop. As you will find, it is a fascinating loop.</span></div>
<div id="filepos350452" class="calibre1"><span class="calibre10"><span><span class="bold1">The Enhanced for Loop</span></span></span></div>
<div class="calibre12"><span>Relatively recently, a new form of the <span class="bold1">for</span> loop, called the <span class="italic">enhanced</span>
<span class="bold1"><span class="italic">for</span></span>, was added to Java. The enhanced <span class="bold1">for</span> provides a streamlined way to cycle through the contents of a collection of objects, such as an array. The enhanced <span class="bold1">for</span> loop is discussed in <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_012.html#filepos452160">Chapter 5</a>, after arrays have been introduced.</span></div>
<div id="filepos351004" class="calibre1"><span class="calibre10"><span><span class="bold1">The while Loop</span></span></span></div>
<div class="calibre12"><span>Another of Java’s loops is the <span class="bold1">while</span>. The general form of the <span class="bold1">while</span> loop is</span></div>
<div class="calibre27"><span>while<span class="italic">(condition) statement</span>;</span></div>
<div class="calibre27"><span>where <span class="italic">statement</span> may be a single statement or a block of statements, and <span class="italic">condition</span> defines the condition that controls the loop. The condition may be any valid Boolean expression. The loop repeats while the condition is true. When the condition becomes false, program control passes to the line immediately following the loop.</span></div>
<div class="calibre23"><span>Here is a simple example in which a <span class="bold1">while</span> is used to print the alphabet:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00175.jpg" class="calibre211"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Here, <span class="bold1">ch</span> is initialized to the letter a. Each time through the loop, <span class="bold1">ch</span> is output and then incremented. This process continues until <span class="bold1">ch</span> is greater than z.</span></div>
<div class="calibre23"><span>As with the <span class="bold1">for</span> loop, the <span class="bold1">while</span> checks the conditional expression at the top of the loop, which means that the loop code may not execute at all. This eliminates the need for performing a separate test before the loop. The following program illustrates this characteristic of the <span class="bold1">while</span> loop. It computes the integer powers of 2, from 0 to 9.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00176.jpg" class="calibre212"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00177.jpg" class="calibre213"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Notice that the <span class="bold1">while</span> loop executes only when <span class="bold1">e</span> is greater than 0. Thus, when <span class="bold1">e</span> is zero, as it is in the first iteration of the <span class="bold1">for</span> loop, the <span class="bold1">while</span> loop is skipped.</span></div>
<div class="calibre35"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div>
<div class="calibre9"><span class="calibre10"><span><span class="bold1">Ask the Expert</span></span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">Q</span></span>:   Given the flexibility inherent in all of Java’s loops, what criteria should I use when selecting a loop? That is, how do I choose the right loop for a specific job?</span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">A</span></span>:</span>   Use a <span class="bold1">for</span> loop when performing a known number of iterations. Use the <span class="bold1">do</span>-<span class="bold1">while</span> when you need a loop that will always perform at least one iteration. The <span class="bold1">while</span> is best used when the loop will repeat an unknown number of times.</span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div id="filepos354488" class="calibre9"><span class="calibre10"><span><span class="bold1">The do-while Loop</span></span></span></div>
<div class="calibre12"><span>The last of Java’s loops is the <span class="bold1">do</span>-<span class="bold1">while</span>. Unlike the <span class="bold1">for</span> and the <span class="bold1">while</span> loops, in which the condition is tested at the top of the loop, the <span class="bold1">do-while</span> loop checks its condition at the bottom of the loop. This means that a <span class="bold1">do-while</span> loop will always execute at least once. The general form of the <span class="bold1">do-while</span> loop is</span></div>
<div class="calibre1"><span><img alt="image" src="images/00178.jpg" class="calibre214"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Although the braces are not necessary when only one statement is present, they are often used to improve readability of the <span class="bold1">do-while</span> construct, thus preventing confusion with the <span class="bold1">while</span>. The <span class="bold1">do-while</span> loop executes as long as the conditional expression is true.</span></div>
<div class="calibre23"><span>The following program loops until the user enters the letter q:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00179.jpg" class="calibre215"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Using a <span class="bold1">do-while</span> loop, we can further improve the guessing game program from earlier in this chapter. This time, the program loops until you guess the letter.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00180.jpg" class="calibre216"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Here is a sample run:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00181.jpg" class="calibre217"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Notice one other thing of interest in this program. There are two <span class="bold1">do</span>-<span class="bold1">while</span> loops in the program. The first loops until the user guesses the letter. Its operation and meaning should be clear. The second <span class="bold1">do</span>-<span class="bold1">while</span> loop, shown again here, warrants some explanation:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00182.jpg" class="calibre218"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As explained earlier, console input is line buffered—you have to press <small class="calibre16">ENTER</small> before characters are sent. Pressing <small class="calibre16">ENTER</small> causes a carriage return and a line feed (newline) sequence to be generated. These characters are left pending in the input buffer. Also, if you typed more than one key before pressing <small class="calibre16">ENTER</small>, they too would still be in the input buffer. This loop discards those characters by continuing to read input until the end of the line is reached. If they were not discarded, then those characters would also be sent to the program as guesses, which is not what is wanted. (To see the effect of this, you might try removing the inner <span class="bold1">do</span>-<span class="bold1">while</span> loop.) In <a href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_017.html#filepos823752">Chapter 10</a>, after you have learned more about Java, some other, higher-level ways of handling console input are described. However, the use of <span class="bold1">read( )</span> here gives you insight into how the foundation of Java's I/O system operates. It also shows another example of Java's loops in action.</span></div>
<div class="calibre18"> </div><table cellspacing="0" cellpadding="0" class="calibre37">
<colgroup class="calibre38">
<col class="calibre72"/>
<col class="calibre73"/>
</colgroup>
<tr class="calibre41">
<td valign="top" id="filepos358176" class="calibre74"><span class="calibre10"><span class="bold1">Try This 3-2</span> </span></td>
<td valign="top" class="calibre75"><span class="calibre10">Improve the Java Help System</span></td>
</tr></table><div class="calibre43"> </div>
<div class="calibre1"><span><img alt="image" src="images/00183.jpg" class="calibre188"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>This project expands on the Java help system that was created in <a href="#filepos333240">Try This 3-1</a>. This version adds the syntax for the <span class="bold1">for</span>, <span class="bold1">while</span>, and <span class="bold1">do</span>-<span class="bold1">while</span> loops. It also checks the user’s menu selection, looping until a valid response is entered.</span></div>
<div class="calibre19"><span>  <span class="bold1">1.</span>  Copy <span class="bold1">Help.java</span> to a new file called <span class="bold1">Help2.java</span>.</span></div>
<div class="calibre47"><span>  <span class="bold1">2.</span>  Change the first part of <span class="bold1">main( )</span> so that it uses a loop to display the choices, as shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00184.jpg" class="calibre219"/></span></div>
<div class="calibre47"><span>        Notice that a nested <span class="bold1">do</span>-<span class="bold1">while</span> loop is used to discard any unwanted characters remaining in the input buffer. After making this change, the program will loop, displaying the menu until the user enters a response that is between 1 and 5.</span></div>
<div class="calibre47"><span>  <span class="bold1">3.</span>  Expand the <span class="bold1">switch</span> statement to include the <span class="bold1">for</span>, <span class="bold1">while</span>, and <span class="bold1">do</span>-<span class="bold1">while</span> loops, as shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00185.jpg" class="calibre220"/></span></div>
<div class="calibre47"><span>        Notice that no <span class="bold1">default</span> statement is present in this version of the <span class="bold1">switch</span>. Since the menu loop ensures that a valid response will be entered, it is no longer necessary to include a <span class="bold1">default</span> statement to handle an invalid choice.</span></div>
<div class="calibre47"><span>  <span class="bold1">4.</span>  Here is the entire <span class="bold1">Help2.java</span> program listing:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00186.jpg" class="calibre221"/></span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00187.jpg" class="calibre222"/></span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div id="filepos361566" class="calibre9"><span class="calibre10"><span><span class="bold1">Use break to Exit a Loop</span></span></span></div>
<div class="calibre12"><span>It is possible to force an immediate exit from a loop, bypassing any remaining code in the body of the loop and the loop’s conditional test, by using the <span class="bold1">break</span> statement. When a <span class="bold1">break</span> statement is encountered inside a loop, the loop is terminated and program control resumes at the next statement following the loop. Here is a simple example:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00188.jpg" class="calibre223"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>This program generates the following output:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00189.jpg" class="calibre224"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As you can see, although the <span class="bold1">for</span> loop is designed to run from 0 to <span class="bold1">num</span> (which in this case is 100), the <span class="bold1">break</span> statement causes it to terminate early, when <span class="bold1">i</span> squared is greater than or equal to <span class="bold1">num</span>.</span></div>
<div class="calibre23"><span>The <span class="bold1">break</span> statement can be used with any of Java’s loops, including intentionally infinite loops. For example, the following program simply reads input until the user types the letter q:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00190.jpg" class="calibre225"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>When used inside a set of nested loops, the <span class="bold1">break</span> statement will break out of only the innermost loop. For example:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00191.jpg" class="calibre226"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>This program generates the following output:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00192.jpg" class="calibre227"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As you can see, the <span class="bold1">break</span> statement in the inner loop causes the termination of only that loop. The outer loop is unaffected.</span></div>
<div class="calibre23"><span>Here are two other points to remember about <span class="bold1">break</span>. First, more than one <span class="bold1">break</span> statement may appear in a loop. However, be careful. Too many <span class="bold1">break</span> statements have the tendency to destructure your code. Second, the <span class="bold1">break</span> that terminates a <span class="bold1">switch</span> statement affects only that <span class="bold1">switch</span> statement and not any enclosing loops.</span></div>
<div id="filepos364420" class="calibre1"><span class="calibre10"><span><span class="bold1">Use break as a Form of goto</span></span></span></div>
<div class="calibre12"><span>In addition to its uses with the <span class="bold1">switch</span> statement and loops, the <span class="bold1">break</span> statement can be employed by itself to provide a “civilized” form of the goto statement. Java does not have a goto statement, because it provides an unstructured way to alter the flow of program execution. Programs that make extensive use of the goto are usually hard to understand and hard to maintain. There are, however, a few places where the goto is a useful and legitimate device. For example, the goto can be helpful when exiting from a deeply nested set of loops. To handle such situations, Java defines an expanded form of the <span class="bold1">break</span> statement. By using this form of <span class="bold1">break</span>, you can, for example, break out of one or more blocks of code. These blocks need not be part of a loop or a <span class="bold1">switch</span>. They can be any block. Further, you can specify precisely where execution will resume, because this form of <span class="bold1">break</span> works with a label. As you will see, <span class="bold1">break</span> gives you the benefits of a goto without its problems.</span></div>
<div class="calibre23"><span>The general form of the labeled <span class="bold1">break</span> statement is shown here:</span></div>
<div class="calibre27"><span>break <span class="italic">label</span>;</span></div>
<div class="calibre27"><span>Typically, <span class="italic">label</span> is the name of a label that identifies a block of code. When this form of <span class="bold1">break</span> executes, control is transferred out of the named block of code. The labeled block of code must enclose the <span class="bold1">break</span> statement, but it does not need to be the immediately enclosing block. This means that you can use a labeled <span class="bold1">break</span> statement to exit from a set of nested blocks. But you cannot use <span class="bold1">break</span> to transfer control to a block of code that does not enclose the <span class="bold1">break</span> statement.</span></div>
<div class="calibre23"><span>To name a block, put a label at the start of it. The block being labeled can be a stand-alone block, or a statement that has a block as its target. A <span class="italic">label</span> is any valid Java identifier followed by a colon. Once you have labeled a block, you can then use this label as the target of a <span class="bold1">break</span> statement. Doing so causes execution to resume at the <span class="italic">end</span> of the labeled block. For example, the following program shows three nested blocks:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00193.jpg" class="calibre228"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00194.jpg" class="calibre229"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Let’s look closely at the program to understand precisely why this output is produced. When <span class="bold1">i</span> is 1, the first <span class="bold1">if</span> statement succeeds, causing a <span class="bold1">break</span> to the end of the block of code defined by label <span class="bold1">one</span>. This causes <span class="bold1">After block one</span>. to print. When <span class="bold1">i</span> is 2, the second <span class="bold1">if</span> succeeds, causing control to be transferred to the end of the block labeled by <span class="bold1">two</span>. This causes the messages <span class="bold1">After block two</span>. and <span class="bold1">After block one</span>. to be printed, in that order. When <span class="bold1">i</span> is 3, the third <span class="bold1">if</span> succeeds, and control is transferred to the end of the block labeled by <span class="bold1">three</span>. Now, all three messages are displayed.</span></div>
<div class="calibre23"><span>Here is another example. This time, <span class="bold1">break</span> is being used to jump outside of a series of nested <span class="bold1">for</span> loops. When the <span class="bold1">break</span> statement in the inner loop is executed, program control jumps to the end of the block defined by the outer <span class="bold1">for</span> loop, which is labeled by <span class="bold1">done</span>. This causes the remainder of all three loops to be bypassed.</span></div>
<div class="calibre1"><span><img alt="image" src="images/00195.jpg" class="calibre230"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00196.jpg" class="calibre231"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Precisely where you put a label is very important—especially when working with loops. For example, consider the following program:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00197.jpg" class="calibre232"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from this program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00198.jpg" class="calibre233"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>In the program, both sets of nested loops are the same except for one point. In the first set, the label precedes the outer <span class="bold1">for</span> loop. In this case, when the <span class="bold1">break</span> executes, it transfers control to the end of the entire <span class="bold1">for</span> block, skipping the rest of the outer loop’s iterations. In the second set, the label precedes the outer <span class="bold1">for</span>’s opening curly brace. Thus, when <span class="bold1">break stop2</span> executes, control is transferred to the end of the outer <span class="bold1">for</span>’s block, causing the next iteration to occur.</span></div>
<div class="calibre23"><span>Keep in mind that you cannot <span class="bold1">break</span> to any label that is not defined for an enclosing block. For example, the following program is invalid and will not compile:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00199.jpg" class="calibre234"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Since the loop labeled <span class="bold1">one</span> does not enclose the <span class="bold1">break</span> statement, it is not possible to transfer control to that block.</span></div>
<div class="calibre35"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div>
<div class="calibre9"><span class="calibre10"><span><span class="bold1">Ask the Expert</span></span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">Q</span></span>:   You say that the</span> goto <span class="bold1">is unstructured and that the</span> break <span class="bold1">with a label offers a better alternative. But really, doesn’t breaking to a label, which might be many lines of code and levels of nesting removed from the</span> break, <span class="bold1">also destructure code?</span></span></div>
<div class="calibre19"><span><span class="bold1"><span><span class="calibre10">A</span></span>:</span>   The short answer is yes! However, in those cases in which a jarring change in program flow is required, breaking to a label still retains some structure. A <span class="bold1">goto</span> has none!</span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div id="filepos371847" class="calibre9"><span class="calibre10"><span><span class="bold1">Use continue</span></span></span></div>
<div class="calibre12"><span>It is possible to force an early iteration of a loop, bypassing the loop’s normal control structure. This is accomplished using <span class="bold1">continue</span>. The <span class="bold1">continue</span> statement forces the next iteration of the loop to take place, skipping any code between itself and the conditional expression that controls the loop. Thus, <span class="bold1">continue</span> is essentially the complement of <span class="bold1">break</span>. For example, the following program uses <span class="bold1">continue</span> to help print the even numbers between 0 and 100:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00200.jpg" class="calibre235"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>Only even numbers are printed, because an odd one will cause the loop to iterate early, bypassing the call to <span class="bold1">println( )</span>.</span></div>
<div class="calibre23"><span>In <span class="bold1">while</span> and <span class="bold1">do-while</span> loops, a <span class="bold1">continue</span> statement will cause control to go directly to the conditional expression and then continue the looping process. In the case of the <span class="bold1">for</span>, the iteration expression of the loop is evaluated, then the conditional expression is executed, and then the loop continues.</span></div>
<div class="calibre23"><span>As with the <span class="bold1">break</span> statement, <span class="bold1">continue</span> may specify a label to describe which enclosing loop to continue. Here is an example program that uses <span class="bold1">continue</span> with a label:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00201.jpg" class="calibre236"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>The output from the program is shown here:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00202.jpg" class="calibre237"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>As the output shows, when the <span class="bold1">continue</span> executes, control passes to the outer loop, skipping the remainder of the inner loop.</span></div>
<div class="calibre23"><span>Good uses of <span class="bold1">continue</span> are rare. One reason is that Java provides a rich set of loop statements that fit most applications. However, for those special circumstances in which early iteration is needed, the <span class="bold1">continue</span> statement provides a structured way to accomplish it.</span></div>
<div class="calibre18"> </div><table cellspacing="0" cellpadding="0" class="calibre37">
<colgroup class="calibre38">
<col class="calibre72"/>
<col class="calibre73"/>
</colgroup>
<tr class="calibre41">
<td valign="top" id="filepos374608" class="calibre74"><span class="calibre10"><span class="bold1">Try This 3-3</span> </span></td>
<td valign="top" class="calibre75"><span class="calibre10">Finish the Java Help System</span></td>
</tr></table><div class="calibre43"> </div>
<div class="calibre1"><span><img alt="image" src="images/00203.jpg" class="calibre117"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>This project puts the finishing touches on the Java help system that was created in the previous projects. This version adds the syntax for <span class="bold1">break</span> and <span class="bold1">continue</span>. It also allows the user to request the syntax for more than one statement. It does this by adding an outer loop that runs until the user enters <span class="bold1">q</span> as a menu selection.</span></div>
<div class="calibre19"><span>  <span class="bold1">1.</span>  Copy <span class="bold1">Help2.java</span> to a new file called <span class="bold1">Help3.java</span>.</span></div>
<div class="calibre47"><span>  <span class="bold1">2.</span>  Surround all of the program code with an infinite <span class="bold1">for</span> loop. Break out of this loop, using <span class="bold1">break</span>, when a letter <span class="bold1">q</span> is entered. Since this loop surrounds all of the program code, breaking out of this loop causes the program to terminate.</span></div>
<div class="calibre47"><span>  <span class="bold1">3.</span>  Change the menu loop as shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00204.jpg" class="calibre238"/></span></div>
<div class="calibre47"><span>        Notice that this loop now includes the <span class="bold1">break</span> and <span class="bold1">continue</span> statements. It also accepts the letter <span class="bold1">q</span> as a valid choice.</span></div>
<div class="calibre47"><span>  <span class="bold1">4.</span>  Expand the <span class="bold1">switch</span> statement to include the <span class="bold1">break</span> and <span class="bold1">continue</span> statements, as shown here:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00205.jpg" class="calibre239"/></span></div>
<div class="calibre47"><span>  <span class="bold1">5.</span>  Here is the entire <span class="bold1">Help3.java</span> program listing:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00206.jpg" class="calibre240"/></span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00207.jpg" class="calibre241"/></span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00208.jpg" class="calibre242"/></span></div>
<div class="calibre47"><span>  <span class="bold1">6.</span>  Here is a sample run:</span></div>
<div class="calibre47"><span>        <img alt="image" src="images/00209.jpg" class="calibre243"/></span></div>
<div class="calibre36"><span><img alt="image" src="images/00005.jpg" class="calibre34"/></span></div><div class="calibre18"> </div>
<div id="filepos378409" class="calibre9"><span class="calibre10"><span><span class="bold1">Nested Loops</span></span></span></div>
<div class="calibre12"><span>As you have seen in some of the preceding examples, one loop can be nested inside of another. Nested loops are used to solve a wide variety of programming problems and are an essential part of programming. So, before leaving the topic of Java’s loop statements, let’s look at one more nested loop example. The following program uses a nested <span class="bold1">for</span> loop to find the factors of the numbers from 2 to 100:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00210.jpg" class="calibre244"/></span></div><div class="calibre11"> </div>
<div class="calibre23"><span>Here is a portion of the output produced by the program:</span></div>
<div class="calibre1"><span><img alt="image" src="images/00211.jpg" class="calibre245"/></span></div><div class="calibre11"> </div>
<div class="calibre12"><span>In the program, the outer loop runs <span class="bold1">i</span> from 2 through 100. The inner loop successively tests all numbers from 2 up to <span class="bold1">i</span>, printing those that evenly divide <span class="bold1">i</span>. Extra challenge: The preceding program can be made more efficient. Can you see how? (Hint: The number of iterations in the inner loop can be reduced.)</span></div>
<div id="filepos379798" class="calibre44"><span class="calibre10"><span><img alt="image" src="images/00059.jpg" class="calibre104"/>   <span class="bold1"><span class="italic">Chapter 3 Self Test</span></span></span></span></div><div class="calibre11"> </div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos380078" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1497900">1</a>.</span>  Write a program that reads characters from the keyboard until a period is received. Have the program count the number of spaces. Report the total at the end of the program.</span></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos380418" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1498397">2</a>.</span>  Show the general form of the <span class="bold1">if</span>-<span class="bold1">else</span>-<span class="bold1">if</span> ladder.</span></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos380654" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1498790">3</a>.</span>  Given</span></div>
<div class="calibre31"><blockquote class="calibre66"><span><img alt="image" src="images/00212.jpg" class="calibre246"/></span></blockquote></div>
<div class="calibre21"><span>        to what <span class="bold1">if</span> does the last <span class="bold1">else</span> associate?</span></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos381191" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1499433">4</a>.</span>  Show the <span class="bold1">for</span> statement for a loop that counts from 1000 to 0 by –2.</span></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos381440" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1499838">5</a>.</span>  Is the following fragment valid?</span></div>
<div class="calibre31"><blockquote class="calibre66"><span><img alt="image" src="images/00213.jpg" class="calibre247"/></span></blockquote></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos381797" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1500373">6</a>.</span>  Explain what <span class="bold1">break</span> does. Be sure to explain both of its forms.</span></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos382034" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1500906">7</a>.</span>  In the following fragment, after the <span class="bold1">break</span> statement executes, what is displayed?</span></div>
<div class="calibre31"><blockquote class="calibre66"><span><img alt="image" src="images/00214.jpg" class="calibre248"/></span></blockquote></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos382448" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1501487">8</a>.</span>  What does the following fragment print?</span></div>
<div class="calibre31"><blockquote class="calibre66"><span><img alt="image" src="images/00215.jpg" class="calibre249"/></span></blockquote></div>
<div class="calibre47"><span>  <span class="bold1"><a id="filepos382813" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1502124">9</a>.</span>  The iteration expression in a <span class="bold1">for</span> loop need not always alter the loop control variable by a fixed amount. Instead, the loop control variable can change in any arbitrary way. Using this concept, write a program that uses a <span class="bold1">for</span> loop to generate and display the progression 1, 2, 4, 8, 16, 32, and so on.</span></div>
<div class="calibre47"><span><span class="bold1"><a id="filepos383280" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1502741">10</a>.</span>  The ASCII lowercase letters are separated from the uppercase letters by 32. Thus, to convert a lowercase letter to uppercase, subtract 32 from it. Use this information to write a program that reads characters from the keyboard. Have it convert all lowercase letters to uppercase, and all uppercase letters to lowercase, displaying the result. Make no changes to any other character. Have the program stop when the user enters a period. At the end, have the program display the number of case changes that have taken place.</span></div>
<div class="calibre47"><span><span class="bold1"><a id="filepos383956" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1503574">11</a>.</span>  What is an infinite loop?</span></div>
<div class="calibre47"><span><span class="bold1"><a id="filepos384135" href="CR%21CDS4MRPTP172DC9AQDQQBWENKH9V_split_025.html#filepos1503900">12</a>.</span>  When using <span class="bold1">break</span> with a label, must the label be on a block that contains the <span class="bold1">break</span>?</span></div>  <div class="mbppagebreak" id="calibre_pb_10"></div>
</body></html>
